<!doctype html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
>
  <head>
    <meta charset="UTF-8" />
    <!-- [woo 수정] CSRF 비활성화 시 null 체크 추가 -->
    <meta th:if="${_csrf != null}" name="_csrf" th:content="${_csrf.token}" />
    <meta
      th:if="${_csrf != null}"
      name="_csrf_header"
      th:content="${_csrf.headerName}"
    />
    <th:block
      th:replace="~{parkjoon/admin/fragments/config :: configFragment}"
    ></th:block>
    <title>학교 관리 시스템</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />
    <style>
      .content-area {
        padding: 2rem;
      }
      body {
        margin: 0;
      }
    </style>
  </head>
  <body
    class="bg-light"
    th:data-error-message="${errorMessage}"
    th:data-success-message="${successMessage}"
  >
    <div class="container-fluid p-0">
      <div class="row g-0">
        <div
          th:replace="~{parkjoon/admin/fragments/sidebar :: sidebarFragment}"
        ></div>

        <main class="col-md-10 p-4">
          <!-- [추가] 수정,에러 알림 메시지 표시 (01/28 woo) -->
          <div
            th:if="${msg}"
            class="alert alert-success alert-dismissible fade show"
            role="alert"
          >
            <span th:text="${msg}"></span>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="alert"
            ></button>
          </div>
          <div
            th:if="${error}"
            class="alert alert-danger alert-dismissible fade show"
            role="alert"
          >
            <span th:text="${error}"></span>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="alert"
            ></button>
          </div>

          <div layout:fragment="content"></div>
        </main>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 공통 스크립트 추가 -->
    <script th:src="@{/assets/js/admin/admin-common.js}"></script>
    <th:block layout:fragment="script"></th:block>
  </body>
</html>
